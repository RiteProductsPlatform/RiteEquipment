<oj-vb-fragment id="page-header" bridge="[[vbBridge]]" name="page-header">
  <oj-vb-fragment-param name="title" value=""></oj-vb-fragment-param>
</oj-vb-fragment>


<oj-sp-welcome-page id="oj-sp-wp1" illustration-background="[[ require.toUrl($page.variables.illustrationBackground) ]]"
  illustration-foreground="[[ require.toUrl($page.variables.illustrationForeground) ]]"
  display-options.image-stretch="[[ $page.variables.imageStretch ]]"
  display-options.mobile-image="[[ $page.variables.mobileImage ]]" display-options.responsive-padding="on"
  page-title="Equipment Cart" background-color="dark-pebble">
  <!-- <oj-input-search slot="search" suggestions="[[$variables.eqClassListSDP]]" style="width:22vw"
    suggestion-item-text="eqClass" value="{{ $variables.searchVar }}"
    on-oj-value-action="[[$listeners.inputSearchValueAction]]"></oj-input-search> -->

  <!-- <oj-button label="Reset" slot="search" on-oj-action="[[$listeners.buttonAction3]]"></oj-button> -->
  <oj-form-layout slot="search" columns="4" max-columns="4" label-edge="top">
    <oj-select-single aria-label="search" label-hint="Class" data="[[$variables.eqClassListSDP2]]" item-text="eqClass"
      style="width:22vw" value="{{ $variables.searchVar }}">
    </oj-select-single>
    <!-- on-value-item-changed="[[$listeners.selectValueItem]]" -->
    <oj-input-date label-hint="Start Date" value="{{ $variables.startdate }}"></oj-input-date>
    <oj-input-date label-hint="End Date" value="{{ $variables.enddate }}"></oj-input-date>
    <div class="oj-flex-item oj-sm-margin-5x-top">
      <oj-button label="Search" class="oj-button-sm" on-oj-action="[[$listeners.buttonAction8]]">
      </oj-button>
    </div>
  </oj-form-layout>

  <div class="oj-flex" style="margin-top:-5vh">
    <div class="oj-flex-item oj-flex oj-sm-justify-content-flex-end" style="width:100%;margin-right:10px">
      <oj-bind-if test="[[ !$variables.iscart ]]">
        <div class="cart-container" style="position: relative; display: inline-block;">
          <span class="oj-ux-ico-cart" style="color:green; font-size:43px; cursor:pointer"
      on-click="[[$listeners.iconClick]]"></span>

          <span class="cart-count"
      style="position: absolute; top: -5px; right: -10px; font-size: 20px; color: white; background-color: red; border-radius: 50%; padding: 2px; text-align: center; min-width: 20px; height: 20px; line-height: 20px;">
  <oj-bind-text value="[[ $variables.CartArray.length ]]"></oj-bind-text>
</span>
        </div>
      </oj-bind-if>
      <oj-bind-if test="[[ $variables.iscart ]]">
        <oj-toolbar chroming="solid">
          <oj-button label="Submit" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction7]]"></oj-button>
          <oj-button label="Back" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction2]]"></oj-button>
        </oj-toolbar>

      </oj-bind-if>

    </div>
    <oj-bind-if test="[[ !$variables.iscart ]]">
      <div class="oj-flex-item" style="width:100%">
        <div
          class="oj-flex grid-container1 oj-sm-flex-direction-row oj-sm-margin-3x-horizontal oj-sm-justify-content-center">
          <oj-bind-for-each data="[[ $variables.equipmentADP.data ]]">
            <template>
              <div
                class="oj-flex-item product-card1 oj-sm-12 oj-md-4 oj-lg-4 oj-xl-2 oj-sm-margin-2x-end oj-sm-margin-2x-top">

                <!-- Equipment Class and Badge Row -->
                <div class="header-row">
                  <div class="equipment-class">
                    <oj-bind-text value="[[ $current.data.equipment_class ]]"></oj-bind-text>
                  </div>
                  <span class="availability-badge"
              :class="[[ $current.data.availability === 'G' ? 'oj-badge-success' : $current.data.availability === 'R' ? 'oj-badge-danger' : 'oj-badge-info' ]]">
              <oj-bind-text
                value="[[ $current.data.availability === 'G' ? 'Available' : $current.data.availability === 'R' ? 'Unavailable' : 'Partial' ]]">
              </oj-bind-text>
               <oj-bind-text value="[[ $current.data.onhand_availability]]"></oj-bind-text>
            </span>
                </div>

                <!-- Avatar -->
                <div class="avatar-container1">
                  <oj-avatar size="xl" src="[[ $current.data.file_content ]]" shape="square"></oj-avatar>
                </div>

                <!-- Cost Rate -->
                <div class="info-container1">
                  <div class="cost-rate">
                    <oj-bind-text
                      value="[['$'+ $functions.getDateDifference($variables.startdate , $variables.enddate, $current.data.bill_rate,$current.data.equip_req_quantity) ]]">
                    </oj-bind-text>


                    <!-- <oj-bind-text value="[[ $current.data.cost_rate ? '$'+$current.data.cost_rate : '$0'  ]]">
                    </oj-bind-text> -->
                  </div>
                </div>

                <!-- Equipment Name -->

                <div class="info-container1">
                  <a on-click="[[$listeners.hyperlinkClick2]]" class="product-name1">
                    <oj-bind-text value="[[ $current.data.equipment_name ]]"></oj-bind-text>
                  </a>
                </div>

                <!-- Quantity Selector -->
                <div
                  class="quantity-selector oj-flex oj-sm-justify-content-center oj-sm-align-items-center oj-sm-margin-1x-top">
                  <div class="oj-flex oj-sm-justify-content-center oj-sm-flex-items-initial">
                    <div class="oj-flex-item">
                      <oj-input-number aria-label="Number" value="[[ $current.data.equip_req_quantity || 1 ]]" min="1"
                        max="[[$current.data.onhand_availability || 1]]"
                        on-value-changed="[[$listeners.inputNumberValue]]"
                        converter='{"options":{"useGrouping":false},"type":"number"}' step="1">
                      </oj-input-number>
                    </div>
                  </div>
                  <!-- 
                  <oj-button label="" display="icons" class="oj-button-sm" chroming="borderless"
                    on-oj-action="[[$listeners.buttonAction10]]">
                    <span class="oj-ux-ico-minus" style="font-size:18px;font-weight:600"></span>
                  </oj-button>
                  <span class="quantity-display">
              <oj-bind-text value="[[ $current.data.equip_req_quantity || 1 ]]"></oj-bind-text>
            </span>
                  <oj-button label="" display="icons" class="oj-button-sm" chroming="borderless"
                    on-oj-action="[[$listeners.buttonAction9]]">
                    <span class="oj-ux-ico-plus" style="font-size:18px;font-weight:600"></span>
                  </oj-button> -->

                </div>
                <!-- Action -->
                <div class="action-container1">
                  <button class="add-to-cart1" on-click="[[ $listeners.spanClick ]]">Add to Cart</button>
                </div>
              </div>
            </template>+
          </oj-bind-for-each>
        </div>
      </div>



    </oj-bind-if>



    <oj-bind-if test="[[ $variables.iscart ]]">
      <div class="oj-flex-item" style="width:100%">
        <div
          class="oj-flex grid-container1 oj-sm-flex-direction-row oj-sm-margin-3x-horizontal oj-sm-justify-content-center">
          <oj-bind-for-each data="[[ $variables.CartArray ]]">
            <template>
              <div
                class="oj-flex-item product-card1 oj-sm-12 oj-md-4 oj-lg-4 oj-xl-2 oj-sm-margin-2x-end oj-sm-margin-2x-top">
                <!-- Equipment Class and Badge Row -->
                <div class="header-row">
                  <div class="equipment-class">
                    <oj-bind-text value="[[ $current.data.equipment_class ]]"></oj-bind-text>
                  </div>
                  <span class="availability-badge"
              :class="[[ $current.data.availability === 'G' ? 'oj-badge-success' : $current.data.availability === 'R' ? 'oj-badge-danger' : 'oj-badge-info' ]]">
              <oj-bind-text
                value="[[ $current.data.availability === 'G' ? 'Available' : $current.data.availability === 'R' ? 'Unavailable' : 'Partial' ]]">
              </oj-bind-text>
               <oj-bind-text value="[[ $current.data.onhand_availability]]"></oj-bind-text>
            </span>
                </div>

                <!-- Avatar -->
                <div class="avatar-container1">
                  <oj-avatar size="xl" src="[[ $current.data.file_content ]]" shape="square"></oj-avatar>
                </div>

                <!-- Cost Rate -->
                <div class="info-container1">
                  <div class="cost-rate">
                    <oj-bind-text
                      value="[['$'+ $functions.getDateDifference($variables.startdate , $variables.enddate, $current.data.bill_rate,$current.data.equip_req_quantity) ]]">
                    </oj-bind-text>

                    <!-- <oj-bind-text value="[[ $current.data.cost_rate ? '$'+$current.data.cost_rate : '$0'  ]]">
                    </oj-bind-text> -->

                  </div>
                </div>

                <!-- Equipment Name -->
                <div class="info-container1">
                  <a on-click="[[$listeners.hyperlinkClick2]]" class="product-name1">
                    <oj-bind-text value="[[ $current.data.equipment_name ]]"></oj-bind-text>
                  </a>
                </div>
                <div
                  class="quantity-selector oj-flex oj-sm-justify-content-center oj-sm-align-items-center oj-sm-margin-1x-top">

                  <div class="oj-flex oj-sm-justify-content-center oj-sm-flex-items-initial">
                    <div class="oj-flex-item">
                      <oj-input-number aria-label="Number" value="[[ $current.data.equip_req_quantity || 1 ]]" min="1"
                        max="[[$current.data.onhand_availability || 1]]"
                        on-value-changed="[[$listeners.inputNumberValue]]"
                        converter='{"options":{"useGrouping":false},"type":"number"}' step="1">
                      </oj-input-number>
                    </div>
                  </div>
                  <!-- <oj-button label="" display="icons" class="oj-button-sm" chroming="borderless">
                    <span class="oj-ux-ico-minus" style="font-size:18px;font-weight:600;color:lightgrey"></span>
                  </oj-button>
                  <span class="quantity-display">
              <oj-bind-text value="[[ $current.data.equip_req_quantity || 1 ]]"></oj-bind-text>
            </span>
                  <oj-button label="" display="icons" class="oj-button-sm" chroming="borderless">
                    <span class="oj-ux-ico-plus" style="font-size:18px;font-weight:600;color:lightgrey"></span>
                  </oj-button> -->
                </div>
                <!-- Action -->
                <div class="action-container1">
                  <button class="add-to-cart1" on-click="[[$listeners.buttonClick]]">Remove from Cart</button>
                </div>
              </div>
            </template>
          </oj-bind-for-each>
        </div>
      </div>

    </oj-bind-if>


  </div>
  <oj-dialog dialog-title="Dialog" id="requestdetails" cancel-behavior="escape" style="width:70vw;height:75vh">
    <div slot="body">
      <div class="oj-flex">
        <div class="oj-flex-item oj-sm-align-self-center">
          <span class="subheadings"><oj-bind-text value="[[ $variables.selectedRow.equipment_name ]]"> </oj-bind-text></span>
        </div>
        <div class="oj-flex-item oj-flex oj-sm-justify-content-flex-end">
          <oj-avatar role="img" size="md" src="[[ $variables.selectedRow.file_content ]]"
            :aria-label="$variables.fileNamePopup" :title="[[ $variables.selectedRowRequest.equipment_name ]]">
          </oj-avatar>
        </div>
      </div>
      <oj-form-layout columns="6" max-columns="6" label-edge="top">

        <oj-input-text label-hint="Asset Number" value="{{ $variables.selectedRow.asset_number }}" readonly="true">
        </oj-input-text>

        <oj-input-text label-hint="Inventory Item" value="{{ $variables.selectedRow.inventory_item }}" readonly="true">
        </oj-input-text>

        <oj-input-text label-hint="Purchase Order" value="{{ $variables.selectedRow.purchase_order }}" readonly="true">
        </oj-input-text>

        <oj-input-text label-hint="Task" value="{{ $variables.selectedRowRequest.task_name }}" readonly="true">
        </oj-input-text>

        <oj-input-text label-hint="Insured Policy" value="{{ $variables.selectedRow.ast_insured_policy }}"
          readonly="true">
        </oj-input-text>

        <oj-input-date label-hint="Date In Service" readonly="true"
          converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'
          value="{{ $variables.selectedRow.ast_date_in_service }}">
        </oj-input-date>

        <oj-input-date label-hint="Retired Date" readonly="true"
          converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'>
        </oj-input-date>

        <oj-input-text label-hint="Manufacturer" readonly="true" value="{{ $variables.selectedRow.manufacturer }}">
        </oj-input-text>

        <oj-input-text label-hint="Model Year" readonly="true" value="{{ $variables.selectedRow.mf_model_year }}">
        </oj-input-text>

        <oj-input-text label-hint="Model Number" readonly="true" value="{{ $variables.selectedRow.mf_model_number }}">
        </oj-input-text>
        <oj-input-text label-hint="License State" readonly="true" value="{{ $variables.selectedRow.mf_license_state }}">
        </oj-input-text>

        <oj-input-text label-hint="License Number" readonly="true"
          value="{{ $variables.selectedRow.mf_license_number }}">
        </oj-input-text>

        <oj-input-text label-hint="Fuel Type" readonly="true" value="{{ $variables.selectedRow.mf_fuel_type }}">
        </oj-input-text>

        <oj-input-text label-hint="Serial Number" readonly="true" value="{{ $variables.selectedRow.mf_serial_number }}">
        </oj-input-text>
        <oj-input-date label-hint="License Expiry" readonly="true"
          converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'
          value="{{ $variables.selectedRow.mf_license_expiry }}">
        </oj-input-date>

        <oj-input-text label-hint="Default Location" readonly="true"
          value="{{ $variables.selectedRow.default_location }}">
        </oj-input-text>

        <oj-input-text label-hint="Expenditure Organization" readonly="true"
          value="{{ $variables.selectedRow.expenditure_org_name }}">
        </oj-input-text>

        <oj-input-text label-hint="Billing Category" readonly="true"
          value="{{ $variables.selectedRow.billing_category }}">
        </oj-input-text>
        <oj-input-text label-hint="Cost Rate" readonly="true" value="{{ $variables.selectedRow.cost_rate1 }}">
        </oj-input-text>
        <oj-input-text label-hint="Total Cost" readonly="true"
          value="{{ $application.functions.getDateDifference($variables.startdate, $variables.enddate,$variables.selectedRow.cost_rate1) }}">
        </oj-input-text>

      </oj-form-layout>
      <div class="oj-flex">
        <hr>
        <div class="oj-flex-item oj-panel oj-sm-margin-2x-end" style="width:15vw">
          <oj-bind-if test="[[ $variables.FACostArray.length > 0 ]]">

            <div class="oj-flex-item oj-sm-margin-2x-top oj-sm-margin-3x-start">
              <div class="oj-flex-item ">
                <span style="font-weight:600;font-size:17px;">Fixed Asset Cost Details</span>
              </div>
              <div class="oj-flex oj-sm-margin-4x-top">
                <div class="oj-flex-item oj-sm-margin-3x-start oj-sm-flex-initial oj-sm-margin-8x-end">
                  <oj-label>Purchase Cost</oj-label>
                </div>
                <div class="oj-flex-item oj-sm-margin 10x-start">
                  <oj-label style="margin-left:2.5vw">Depreciation Amount</oj-label>
                </div>
                <div class="oj-flex-item">
                  <oj-label>Net Book Value</oj-label>
                </div>
              </div>
              <oj-form-layout columns="3" max-columns="3" label-edge="top"
                class="oj-sm-margin-2x-top oj-sm-margin-3x-horizontal">
                <oj-bind-for-each data="[[ $variables.FACostArray ]]">
                  <template>
                    <oj-input-text aria-label='[[ $current.index+1 +". Work Order Number" ]]' readonly="true"
                      value="{{ $current.data.initial_cost}}"></oj-input-text>
                    <oj-input-text aria-label='[[ $current.index+1 +". deprn_amount" ]]' readonly="true"
                      value="{{ $current.data.deprn_amount}}"> </oj-input-text>
                    <oj-input-text aria-label='[[ $current.index+1 +". net_book_value" ]]' readonly="true"
                      value="{{ $current.data.net_book_value}}"> </oj-input-text>
                  </template>
                </oj-bind-for-each>
              </oj-form-layout>
            </div>
          </oj-bind-if>
        </div>
        <div class="oj-flex-item oj-panel">

          <oj-bind-if test="[[ $variables.workordercostArray.length > 0 ]]">

            <div class="oj-flex-item oj-sm-margin-2x-top oj-sm-margin-3x-start">
              <div class="oj-flex-item ">
                <span style="font-weight:600;font-size:17px;">Maintenance Cost Details</span>
              </div>
              <div class="oj-flex oj-sm-margin-4x-top">
                <div class="oj-flex-item oj-sm-margin-3x-start oj-sm-flex-initial oj-sm-margin-3x-end">
                  <oj-label>Work Order Number</oj-label>
                </div>
                <div class="oj-flex-item oj-sm-margin-4x-start">
                  <oj-label>Unit Cost</oj-label>
                </div>
                <div class="oj-flex-item oj-sm-margin-3x-top">
                </div>
              </div>
              <oj-form-layout columns="3" max-columns="3" label-edge="top"
                class="oj-sm-margin-2x-top oj-sm-margin-3x-horizontal">
                <oj-bind-for-each data="[[ $variables.workordercostArray ]]">
                  <template>
                    <oj-input-text aria-label='[[ $current.index+1 +". Work Order Number" ]]' readonly="true"
                      value="{{ $current.data.work_order_number }}"></oj-input-text>
                    <oj-input-text aria-label='[[ $current.index+1 +". Unit Cost" ]]' readonly="true"
                      value="{{ $current.data.unit_cost }}"> </oj-input-text>
                    <div class="oj-flex-item oj-sm-margin-3x-top">
                    </div>
                  </template>
                </oj-bind-for-each>
              </oj-form-layout>
            </div>
          </oj-bind-if>
        </div>
      </div>

      <div class="oj-flex oj-sm-justify-content-flex-end oj-sm-margin-2x-top">
        <div class="oj-flex-item">
          <oj-button label="Close" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction]]"></oj-button>
        </div>
      </div>
    </div>
  </oj-dialog>

  <oj-dialog dialog-title="Submit Request" id="submitRequestDlg" drag-affordance="none" cancel-behavior="icon"
    style="width:70vw;max-height:80vh">
    <div slot="body">
      <div class="oj-flex oj-sm-flex-direction-column">
        <h6 class="oj-header oj-flex-item oj-sm-flex-initial">Submit Request</h6>
        <div class="oj-flex-item oj-sm-flex-initial">
          <oj-validation-group id="requestvalgroup">
            <oj-form-layout max-columns="4" columns="4" class="oj-formlayout-full-width" label-edge="top">
              <!-- <oj-input-text label-hint="Equipment Number" value="{{ $variables.selectedRowRequest.equipment_number }}"
                readonly="true"></oj-input-text> -->
              <oj-combobox-one id="combobox1" value="{{ $variables.selectedRowRequest.request_type }}"
                label-hint="Project/Customer">
                <oj-option value="Customer">Customer</oj-option>
                <oj-option value="Project">Project</oj-option>
              </oj-combobox-one>
              <!-- <oj-bind-if test="[[ $variables.selectedRowRequest.request_type ]]"> -->
              <oj-bind-if test="[[ $variables.selectedRowRequest.request_type === 'Customer' ]]">
                <oj-select-single label-hint="Customer Name" value="{{ $variables.selectedRowRequest.customer_id }}"
                  on-value-item-changed="[[$listeners.selectValueItem2]]"
                  data="[[$variables.get1113185HubOrganizationsListSDP]]" item-text="OrganizationName">
                </oj-select-single>
                <oj-select-single label-hint="Customer Site"
                  value="{{ $variables.selectedRowRequest.customer_site_id }}"
                  data="[[$variables.get1113185HubOrganizationsPartyNumberChildAddressListSDP]]"
                  item-text="PartySiteName" on-value-item-changed="[[$listeners.selectValueItem3]]">
                </oj-select-single>
              </oj-bind-if>
              <oj-bind-if test="[[ $variables.selectedRowRequest.request_type === 'Project']]">
                <oj-select-single label-hint="Project Name" item-text="name"
                  value="{{ $variables.selectedRowRequest.project_name }}"
                  on-value-item-changed="[[$listeners.selectValueItem4]]" 
                  required="true" data="[[$variables.getEQUIPMENTRITEPROJECTSLOV1GetProjects2ListSDP]]"></oj-select-single>
                <oj-select-single label-hint="Task Name" value="{{ $variables.selectedRowRequest.task_name }}"
                  item-text="TaskName" on-value-item-changed="[[$listeners.selectValueItem6]]" required="true"
                  data="[[$variables.TaskLovADP]]">
                </oj-select-single>

              </oj-bind-if>
              <!-- </oj-bind-if> -->
              <oj-select-single label-hint="Crew" value="{{ $variables.selectedRowRequest.crew_id }}"
                data="[[$variables.getGetCrewNameLOVListSDP]]" item-text="crew_name"
                on-value-item-changed="[[$listeners.selectValueItem5]]"></oj-select-single>
              <oj-input-text label-hint="Requestor Name" value="{{ $variables.selectedRowRequest.requestor_name }}"
                readonly="true"></oj-input-text>
              <!-- <oj-input-number label-hint="Bill Rate - USD" value="{{ $variables.selectedRowRequest.bill_rate }}"
                converter='{"options":{"style":"currency","currency":"USD"},"type":"number"}' required="true">
              </oj-input-number> -->
              <oj-input-number label-hint="Total Efforts/Day"
                value="{{ $variables.selectedRowRequest.efforts_per_day }}" required="true" min="0" max="24">
              </oj-input-number>
              <oj-input-number label-hint="Utilization" value="{{ $variables.selectedRowRequest.utilization }}"
                converter='{"options":{"style":"percent"},"type":"number"}' required="true" disabled="true">
              </oj-input-number>
              <!-- <oj-input-text label-hint="Cost Rate" readonly="true"
                value="{{$variables.selectedRowRequest.schedule_cost_rate }}">
              </oj-input-text> -->
              <!-- <oj-input-text label-hint="Margin" readonly="true"
                value="{{ $functions.marginFormula($variables.selectedRowRequest.bill_rate, $variables.selectedRowRequest.schedule_cost_rate) }}">
              </oj-input-text> -->
              <oj-input-date label-hint="Start Date" value="{{ $variables.selectedRowRequest.start_date }}">
              </oj-input-date>
              <oj-input-date label-hint="End Date" value="{{ $variables.selectedRowRequest.end_date }}"
                min="[[ $variables.selectedRowRequest.start_date ]]"></oj-input-date>
              <!-- <oj-input-text label-hint="Address1" value="{{ $variables.selectedRowRequest.addressline1 }}"  ></oj-input-text> 
                     <oj-input-text label-hint="PostalCode" value="{{ $variables.selectedRowRequest.zipcode }}"></oj-input-text>
                     <oj-input-text label-hint="Address2" value="{{ $variables.selectedRowRequest.addressline2 }}"  ></oj-input-text> 
                     <oj-input-text label-hint="Country" value="{{ $variables.selectedRowRequest.country }}"  ></oj-input-text> 
                     <oj-input-text label-hint="City" value="{{ $variables.selectedRowRequest.city }}"   ></oj-input-text>  -->
              <!-- <oj-combobox-one label-hint="Rate Basis" value="{{ $variables.selectedRowRequest.rate_basis }}">
                <oj-option value="Hourly">Hourly</oj-option>
                <oj-option value="Daily">Daily</oj-option>
              </oj-combobox-one> -->
              <oj-text-area label-hint="Location" value="{{ $variables.selectedRowRequest.location }}" required="true"
                on-click="[[$listeners.textAreaValue]]">
              </oj-text-area>
              <div class="oj-flex-item oj-sm-margin-5x-top">
                <oj-file-picker selection-mode="single" capture="user" class="oj-flex-item"
                  on-oj-select="[[$listeners.cameraFilePickerSelect]]">
                  <oj-button slot='trigger'>
                    <span slot='startIcon' class="oj-ux-ico-attach-file"></span>
                  </oj-button>
                </oj-file-picker>
                <oj-bind-text value="[[ $variables.fileObj.file_name ]]"></oj-bind-text>
              </div>
            </oj-form-layout>
          </oj-validation-group>
        </div>
        <oj-bind-if test="[[ $variables.EqpMasterWorkOrderADP.data.length > 0 ]]">
          <div class="oj-flex-item">
            <oj-table scroll-policy="loadMoreOnScroll" style="width:100%;max-height:40vh" display="grid"
              data="[[ $variables.EqpMasterWorkOrderADP ]]" columns='[{"headerText":"Equipment Name","field":"equipment_name"},
          {"headerText":"Asset Number","field":"asset_number"},
          {"headerText":"Forecast Due date","field":"forecast_duedate","template":"date"},
          {"headerText":"Workorder Number","field":"workorder_number"}]'>
              <template slot="date">
                <oj-input-date aria-label="Date" value='[[typeof $current.data === "string" ? $current.data : null]]'
                  readonly="true" converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'>
                </oj-input-date>
              </template>
            </oj-table>
          </div>
        </oj-bind-if>

        <div class="oj-flex oj-sm-margin-2x-top">
          <!-- <div class="oj-flex-item oj-sm-flex-initial">
            <a style="font-weight:bold;font-size:14px" on-click="[[$listeners.hyperlinkClick3]]">Maintenance Details
              <span style="font-weight:bold;font-size:16px" class="oj-ux-ico-information"></span></a>
          </div> -->
          <div class="oj-flex-item oj-flex oj-sm-justify-content-flex-end ">
            <oj-toolbar chroming="solid">
              <oj-button chroming="callToAction" on-oj-action="[[$listeners.buttonAction5]]">Submit</oj-button>
              <oj-button chroming="callToAction" on-oj-action="[[$listeners.buttonAction6]]">Cancel</oj-button>
            </oj-toolbar>
          </div>
        </div>
      </div>
    </div>

  </oj-dialog>

  <oj-dialog dialog-title="Dialog" id="oj-dialog--1239369820-3">
    <div slot="body">
      <div class="oj-flex">
        <div class="oj-flex-item">
          <div id="map" style="width:550px;height:330px;margin-top:10px"></div>
        </div>
        <oj-bind-if test="[[$variables.equipdistainceADP.data.length!==0]]">
          <div class="oj-flex-item">
            <oj-table scroll-policy="loadMoreOnScroll" data="[[ $variables.equipdistainceADP ]]" style="width:100%"
              columns='[{"headerText":"Equipment","field":"Equipment"},{"headerText":"Distaince","field":"Distaince"}]'>
            </oj-table>

          </div>
        </oj-bind-if>


      </div>
      <!-- <div class="oj-flex">
        <oj-bind-text value="[[ $variables.Distaince ]]">
        </oj-bind-text>
      </div> -->
      <div style="margin-top:10px;">
        <oj-form-layout columns="2" label-edge="top">
          <oj-input-text label-hint="Address 1" value="{{ $variables.selectedRowRequest.addressline1  }}">
          </oj-input-text>
          <oj-input-text label-hint="Address 2" value="{{ $variables.selectedRowRequest.addressline2  }}">
          </oj-input-text>
          <oj-input-text label-hint="City" value="{{ $variables.selectedRowRequest.city }}"></oj-input-text>
          <oj-input-text label-hint="Country" value="{{ $variables.selectedRowRequest.country }}"></oj-input-text>
        </oj-form-layout>
      </div>
    </div>
    <div slot="footer">
      <oj-button chroming="callToAction" on-oj-action="[[$listeners.buttonAction4]]">Submit</oj-button>
      <oj-button chroming="callToAction" on-oj-action="[[$listeners.buttonAction4]]">Close</oj-button>

    </div>
  </oj-dialog>

  <oj-dialog dialog-title="Loading.." id="loadingDialog" class="" style="width: 230px; height: 80px;"
    cancel-behavior="icon">
    <div slot="body">
      <div class="oj-flex-item oj-sm-margin-5x-top">
        <span style="font-size:18px;color:#006AA2;font-weight:600">Submitting...</span>
        <br/>
        <oj-progress-bar value="-1"></oj-progress-bar>
      </div>
    </div>
  </oj-dialog>
</oj-sp-welcome-page>