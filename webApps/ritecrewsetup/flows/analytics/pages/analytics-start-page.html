<oj-vb-fragment id="page-header" bridge="[[vbBridge]]" name="page-header">
  <oj-vb-fragment-param name="title" value="Analytics"></oj-vb-fragment-param>
  <template slot="actions">
  </template>
</oj-vb-fragment>


<div class="oj-flex oj-panel" style="min-height:85vh">

  
  <div class="oj-flex-item oj-md-9 oj-sm-9" style="max-height:90vh;box-shadow:5px 5px 5px #f1f1f1">
    <oj-validation-group id="searchgroup">
      <oj-form-layout columns="5" max-columns="5" label-edge="top">
        <oj-select-single label-hint="Report" style="width:22vw" value="{{ $variables.searchObj.report }}"
          data="[[ $variables.reportADP ]]"></oj-select-single>
        <oj-select-single label-hint="Equipment Resource Class" style="width:22vw"
          data="[[$variables.EquipmentClassLOVListSDP]]" item-text="equipment_class"
          value="{{ $variables.searchObj.class }}"></oj-select-single>
        <oj-select-single label-hint="Equipment Name" style="width:22vw" value="{{ $variables.searchObj.name }}"
          data="[[$variables.getGetEquipmentLOVListSDP]]" item-text="lkpvalue"></oj-select-single>
        <oj-input-date label-hint="From Date" converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'
          value="{{ $variables.searchObj.from_date }}"
          required="[[ $variables.searchObj.report === 'Equipment Utilization Report' ? true : false ]]">
        </oj-input-date>
        <oj-input-date label-hint="To Date" value="{{ $variables.searchObj.to_date }}"
          required="[[ $variables.searchObj.report === 'Equipment Utilization Report' ? true : false ]]"
          converter='{"type": "datetime", "options": {"pattern":"dd-MMM-yyyy"}}'></oj-input-date>
      </oj-form-layout>
    </oj-validation-group>

    <oj-toolbar chroming="solid">
      <oj-button label="Search" chroming="callToAction" on-oj-action="[[$listeners.buttonAction]]" class="oj-button-sm">
      </oj-button>
      <oj-button label="Reset" chroming="callToAction" on-oj-action="[[$listeners.buttonAction2]]" class="oj-button-sm">
      </oj-button>
      <oj-bind-if test="[[ $variables.EquipmentTblADP.data.length > 0 ]]">
        <oj-button label="Export" chroming="callToAction" on-oj-action="[[$listeners.buttonAction3]]"
          class="oj-button-sm"></oj-button>
      </oj-bind-if>
    </oj-toolbar>
    <oj-table scroll-policy="loadMoreOnScroll" data="[[ $variables.EquipmentTblADP ]]" display="grid"
      style="width:100%;height:70vh" columns='{{$variables.columns}}'>

      <template slot="date">
        <oj-input-date aria-label="Date" value="[[$current.data]]"
          converter='{"type": "datetime", "options": {"pattern":"dd-MM-yyyy"}}' readonly="true"></oj-input-date>
      </template>
    </oj-table>




  </div>
   <div class="oj-flex-item oj-sm-flex-initial  oj-md-3 oj-sm-2"
    style="max-height:90vh;background-color:#faf9f9;box-shadow:5px 5px 5px #f1f1f1">
    <oj-chart type="pie" class="oj-sm-flex-initial" style="height:35vh" animation-on-display="auto"
      style-defaults.three-d-effect="on" data="[[ $variables.ChartADP ]]">
      <template slot='itemTemplate' data-oj-as='item'>
        <oj-chart-item value='[[item.data.value]]' group-id='[[[item.data.group] ]]' series-id='[[item.data.series]]'>
        </oj-chart-item>
      </template>
    </oj-chart>
    <demo-chart-three-d-effect-control id="threeDControl" three-d-effect="on" aria-controls="pieChart">
    </demo-chart-three-d-effect-control>

    <oj-chart type="bar" class="oj-sm-flex-initial" style="height:35vh" animation-on-display="auto"
      style-defaults.three-d-effect="on" data="[[ $variables.ChartADP ]]">
      <template slot='itemTemplate' data-oj-as='item'>
        <oj-chart-item value='[[item.data.value]]' group-id='[[[item.data.group] ]]' series-id='[[item.data.series]]'>
        </oj-chart-item>
      </template>
    </oj-chart>
    <demo-chart-three-d-effect-control id="threeDControl" three-d-effect="on" aria-controls="pieChart">
    </demo-chart-three-d-effect-control>
    </oj-chart>

  </div>
</div>
</div>
</oj-sp-welcome-page>