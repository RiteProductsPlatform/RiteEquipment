<template id="template1">

  <div class="oj-flex oj-sm-margin-2x-top">
    <div class="oj-flex-item">
      <span class="subheadings">Create Rate Schedule</span>
    </div>
    <div class="oj-flex-item oj-flex oj-sm-justify-content-flex-end">
      <oj-toolbar>
        <oj-button label="Add Rate Schedules" on-oj-action="[[$listeners.buttonAction]]" class="oj-button-sm"
          chroming="callToAction">
          <span class="oj-ux-ico-playlist-add-check" slot="startIcon"></span>
        </oj-button>
        <oj-button label="Cancel" class="oj-button-sm" chroming="callToAction"
          on-oj-action="[[$listeners.buttonAction8]]">
        </oj-button>

      </oj-toolbar>
    </div>
  </div>


  <oj-form-layout class="oj-formlayout-full-width oj-sm-margin-3x-top" max-columns="5" columns="5" label-edge="top">
    <oj-input-text label-hint="Name" on-value-changed="[[$listeners.inputTextValue]]"
      disabled="[[ !$variables.masterDetailsSaved ]]">
    </oj-input-text>
    <oj-input-text label-hint="Description" on-value-changed="[[$listeners.inputTextValue2]]"
      disabled="[[ !$variables.masterDetailsSaved ]]"></oj-input-text>
    <oj-select-single label-hint="Bill Rate Schedule Level" data="[[$variables.billRateScheduleLevelListSDP]]"
      item-text="rateLevel" on-value-item-changed="[[$listeners.selectValueItem]]"
      disabled="[[ !$variables.masterDetailsSaved ]]"></oj-select-single>
    <oj-input-date label-hint="Start Date" disabled="[[ !$variables.masterDetailsSaved ]]"
      on-value-changed="[[$listeners.inputDateValue9]]"></oj-input-date>
    <oj-input-date label-hint="End Date" disabled="[[ !$variables.masterDetailsSaved ]]"
      on-value-changed="[[$listeners.inputDateValue10]]"></oj-input-date>
    <oj-select-single label-hint="Contract" disabled="[[ $application.variables.billRateScheduleLevel!=='Contract' ]]"
      on-value-item-changed="[[$listeners.selectValueItem10]]" data="[[$variables.getGetContractDetailsListSDP]]"
      item-text="contract_number"></oj-select-single>
    <oj-select-single label-hint="Project Number"
      disabled="[[ $application.variables.billRateScheduleLevel !== 'Project' && $application.variables.billRateScheduleLevel !== 'Task' ]]"
      on-value-item-changed="[[$listeners.selectValueItem11]]" item-text="ProjectName"
      data="[[$variables.get1113185ProjectsListSDP2]]"></oj-select-single>
    <oj-select-single label-hint="Task Number"
      disabled="[[ $application.variables.billRateScheduleLevel !== 'Project' && $application.variables.billRateScheduleLevel !== 'Task' && $application.variables.billRateScheduleLevel !== '' ]]"
      on-value-item-changed="[[$listeners.selectValueItem12]]" item-text="TaskName"
      data="[[$variables.get1113185ProjectsProjectIdChildTasks2ListSDP4]]"></oj-select-single>

    <oj-checkboxset aria-label="Checkbox Set" readonly="[[ !$variables.masterDetailsSaved ]]"
      class="oj-sm-margin-3x-top" value="{{ $variables.activeFlag }}">
      <oj-option value="Yes">Active Flag</oj-option>
    </oj-checkboxset>


    <!-- <oj-button label="Check Setting smenu" class="oj-md-padding-7x oj-button-sm" chroming="callToAction"
      on-oj-action="[[$listeners.buttonAction6]]">
      <span class="oj-ux-ico-playlist-add-check" slot="startIcon"></span>
    </oj-button> -->
  </oj-form-layout>
  <oj-form-layout class="oj-formlayout-full-width" columns="5" max-columns="5" label-edge="top">
    <!-- <div class="oj-md-padding-3x">
      <div style="display: flex; align-items: center;">
        <oj-sample-checkbox-switch on-click="[[$listeners.booleanCheckboxComponentClick]]"
          readonly="[[ !$variables.masterDetailsSaved ]]"></oj-sample-checkbox-switch>
        <label style="margin-right: 10px;">Multi Currency Enabled</label>
      </div>
    </div>
    <div class="oj-md-padding-3x">
      <div style="display: flex; align-items: center;">
        <oj-sample-checkbox-switch readonly="[[ !$variables.masterDetailsSaved ]]"
          on-click="[[$listeners.booleanCheckboxComponentClick2]]"></oj-sample-checkbox-switch>
        <label style="margin-right: 10px;">Allow Location Based Differential</label>
      </div>
    </div>
    <div class="oj-md-padding-3x">
      <div style="display: flex; align-items: center;">
        <oj-sample-checkbox-switch label-hint="" readonly="[[ !$variables.masterDetailsSaved ]]"
          on-click="[[$listeners.booleanCheckboxComponentClick3]]"></oj-sample-checkbox-switch>
        <label style="margin-right: 10px;">Allow Hours Type Rate Differential</label>
      </div>
    </div> -->

    <!-- <div class="oj-md-padding-3x">
      <div style="display: flex; align-items: center;">
        <oj-sample-checkbox-switch value="{{ $application.variables.billRateScheduleLevel==='Organization' }}"
          readonly="[[ !$variables.masterDetailsSaved ]]" on-click="[[$listeners.booleanCheckboxComponentClick5]]">
        </oj-sample-checkbox-switch>
        <label style="margin-right: 10px;">Default Flag</label>
      </div>
    </div> -->
  </oj-form-layout>


  <oj-dialog dialog-title="Dialog" id="oj-dialog--1239369820-3" style="">
    <div slot="body">
      <div class="oj-flex">
        <div id="map" style="width:550px;height:330px;margin-top:10px"></div>
      </div>
      <div class="oj-flex">
        <oj-bind-text value="[[ $variables.Distance ]]">
        </oj-bind-text>
      </div>
      <div style="margin-top:10px;">
        <oj-form-layout columns="2" label-edge="top">
          <oj-input-text label-hint="Address 1" value="{{ $variables.selectedRow.addressline1  }}"></oj-input-text>
          <oj-input-text label-hint="Address 2" value="{{ $variables.selectedRow.addressline2  }}"></oj-input-text>
          <oj-input-text label-hint="City" value="{{ $variables.selectedRow.city }}"></oj-input-text>
          <oj-input-text label-hint="Country" value="{{ $variables.selectedRow.country }}"></oj-input-text>
        </oj-form-layout>
      </div>

    </div>
    <div slot="footer">
      <oj-button on-oj-action="[[$listeners.buttonAction7]]">Submit</oj-button>
      <oj-button on-oj-action="[[$listeners.buttonAction7]]">Close</oj-button>

    </div>
  </oj-dialog>

  <div>
    <div class="oj-flex">
      <h5 class="subheadings">Details</h5>
    </div>
    <oj-table scroll-policy="loadMoreOnScroll" style="width:92vw;max-height:40vh" display="grid" columns='[{"headerText":"Rate Schedule Name","field":"rate_schedule_name"},
      {"headerText":"Non Labor Resource","field":"non_labor_resource"},
      {"headerText":"Location","field":"location"},
      {"headerText":"Rate Types","field":"rate_types"},
      {"headerText":"Cost Rate","field":"cost_rate","className": "oj-helper-text-align-end"},
      {"headerText":"Bill Rate","field":"bill_rate","className": "oj-helper-text-align-end"},
      {"headerText":"Currency","field":"currency"},
      {"headerText":"Units of Measure","field":"uom"},
      {"headerText":"Start Date","field":"rate_type_start_date"},
      {"headerText":"End Date","field":"rate_type_end_date"}]'
      data="[[$variables.getRateScheduleDetailsbyNameListSDP2]]"></oj-table>
  </div>
  <!-- {"headerText":"Rounding Threshold","field":"rounding_threshold"}, -->
  <div></div>
  <oj-dialog dialog-title="Dialog" id="oj-dialog-1653737817-1" style="min-width: 75%;" drag-affordance="title-bar"
    cancel-behavior="icon" resize-behavior="resizable">
    <div slot="body">
      <div>
        <h6 class="oj-header">Enter Rate Schedules</h6>
      </div>

      <div class="oj-flex">
        <div class="oj-flex-item oj-sm-12 oj-md-12">
          <oj-form-layout class="oj-formlayout-full-width" columns="5" max-columns="5">
            <oj-select-single label-hint="Equipment Class" data="[[$variables.eqClassListSDP]]" item-text="eqClass"
              value="{{ $variables.selectedEquipmentClass }}"></oj-select-single>
            <oj-select-single label-hint="Equipment" on-value-item-changed="[[$listeners.selectValueItem2]]"
              data="[[$variables.getGetEquipmentNamesListSDP]]" item-text="equipment_name"></oj-select-single>

            <oj-text-area label-hint="Location" value="{{ $variables.selectedRow.location }}"
              on-click="[[$listeners.textAreaValue]]"></oj-text-area>


            <oj-select-single label-hint="Units of Measure" on-value-item-changed="[[$listeners.selectValueItem4]]"
              data="[[$variables.uomListSDP]]" item-text="uom"></oj-select-single>
            <!-- <oj-select-single label-hint="Rounding Threshold" on-value-item-changed="[[$listeners.selectValueItem5]]"
              data="[[$variables.roundingThresholdListSDP]]" item-text="roundingThreshold"></oj-select-single> -->
          </oj-form-layout>
        </div>
      </div>









      <div class="oj-flex-item oj-flex oj-sm-flex-direction-column ">
        <div class="oj-flex-item oj-flex oj-sm-justify-content-flex-end oj-sm-margin-2x-top">
          <oj-button label="+ Add Schedule" class="oj-button-sm" chroming="callToAction"
            on-oj-action="[[$listeners.buttonAction4]]"></oj-button>
        </div>
        <div class="oj-flex-item oj-sm-margin-2x-top">
          <oj-table scroll-policy="loadMoreOnScroll" display="grid" data="[[ $variables.scheduleTblADP ]]"
            style="width:100%;max-height:30vh"
            columns='[{"headerText":"Hour Type","field":"hour_type","template":"hour_type"},
            {"headerText":"Cost Rate","field":"cost_rate","template":"cost_rate"},
          {"headerText":"Bill Rate","field":"bill_rate","template":"bill_rate"},{"headerText":"Currency","field":"currency","template":"currency"},
          {"headerText":"Start Date","field":"start_date","template":"start_date"},{"headerText":"End Date","field":"end_date","template":"end_date"}]'
            on-oj-before-row-edit="[[$listeners.tableBeforeRowEdit]]" edit-mode="rowEdit"
            on-oj-before-row-edit-end="[[$listeners.tableBeforeRowEditEnd]]">
            <template slot="hour_type" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-select-single aria-label="hourtype" value="{{$variables.scheduleBlankRowData.hour_type}}"
                  class="editable" item-text="hrsType" data="[[ $variables.hourTypeADP ]]">
                </oj-select-single>
              </oj-bind-if>
            </template>
            <template slot="cost_rate" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[ '$' + cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-input-number aria-label="Cost Rate" value="{{ $variables.scheduleBlankRowData.cost_rate }}"
                  converter='{"options":{"style":"currency","currency":"USD"},"type":"number"}'>
                </oj-input-number>
              </oj-bind-if>
            </template>
            <template slot="bill_rate" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[ '$' + cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-input-number aria-label="bill Rate" value="{{$variables.scheduleBlankRowData.bill_rate}}"
                  min="[[$variables.scheduleBlankRowData.cost_rate]]"
                  converter='{"options":{"style":"currency","currency":"USD"},"type":"number"}'>
                </oj-input-number>
              </oj-bind-if>
            </template>
            <template slot="currency" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-select-single aria-label="currency" value="{{$variables.scheduleBlankRowData.currency}}"
                  class="editable" data="[[ $variables.CurrencyLOV ]]">
                </oj-select-single>
              </oj-bind-if>
            </template>
            <template slot="start_date" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-input-date placeholder="mm/dd/yyyy" value="{{$variables.scheduleBlankRowData.start_date}}"
                  min="[[ $application.variables.startandenddate.startdate ]]"
                  max="[[ $application.variables.startandenddate.enddate ]]"
                  on-value-changed="[[$listeners.inputDateValue11]]">
                </oj-input-date>
              </oj-bind-if>
            </template>
            <template slot="end_date" data-oj-as="cell">
              <oj-bind-if test='[[cell.mode==="navigation"]]'>
                <oj-bind-text value="[[cell.data]]"></oj-bind-text>
              </oj-bind-if>
              <oj-bind-if test='[[cell.mode==="edit"]]'>
                <oj-input-date placeholder="mm/dd/yyyy" value="{{$variables.scheduleBlankRowData.end_date}}"
                  max="[[ $application.variables.startandenddate.enddate ]]"
                  min="[[ $variables.scheduleBlankRowData.caluculatedDate ]]">
                </oj-input-date>
              </oj-bind-if>
            </template>

          </oj-table>
        </div>

      </div>
    </div>
    <div slot="footer">
      <oj-button label="Submit" chroming="callToAction" class="oj-button-sm"
        on-oj-action="[[$listeners.buttonAction5]]"></oj-button>
      <!-- on-oj-action="[[$listeners.buttonAction2]]" -->
      <oj-button on-oj-action="[[$listeners.buttonAction3]]" chroming="callToAction" class="oj-button-sm">Close
      </oj-button>
    </div>
  </oj-dialog>
</template>